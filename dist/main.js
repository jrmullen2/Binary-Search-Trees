(()=>{"use strict";class t{constructor(t){this.data=t,this.left=null,this.right=null}}class r{constructor(t){let r=o(t);r=function(t){for(let r=0;r<t.length;r++)t[r]===t[r+1]&&t.splice(r,1);return t}(r),this._root=e(r,0,r.length-1)}insert(r){const e=new t(r);let o=this._root;if(null!==this._root)for(;o!==e;)r<o.data?null!==o.left?o=o.left:(o.left=e,o=e):null!==o.right?o=o.right:(o.right=e,o=e);else this._root=e}delete(t){this._root=l(this._root,t)}find(t){return n(this._root,t)}levelOrder(t){if(null===this._root)return;let r=[];for(r.push(this._root);0!==r.length;){let e=r[0];t(e),e.left&&r.push(e.left),e.right&&r.push(e.right),r.shift()}}preorder(t,r=this._root){r&&(t(r),this.preorder(t,r.left),this.preorder(t,r.right))}inorder(t,r=this._root){r&&(this.inorder(t,r.left),t(r),this.inorder(t,r.right))}postorder(t,r=this._root){r&&(this.postorder(t,r.left),this.postorder(t,r.right),t(r))}height(t=this._root){if(!t)return-1;let r=this.height(t.left),e=this.height(t.right);return r>e?r+1:e+1}depth(t,r=this._root,e=0){return t.depth=e,t.data<r.data?(e+=1,r=this.depth(t,r.left,e)):t.data>r.data&&(e+=1,r=this.depth(t,r.right,e)),t.depth}isBalanced(t=this._root,r=!0){return!t||((this.height(t.left)-this.height(t.right)>=2||this.height(t.left)-this.height(t.right)<=-2)&&(r=!1),this.isBalanced(t.left,r),this.isBalanced(t.right,r),r)}rebalance(t=this._root){t&&(this.inorder(h,t),this._root=e(i,0,i.length-1))}}function e(r,o,l){if(o>l)return null;let n=Math.floor((o+l)/2);const i=new t(r[n]);return i.left=e(r,o,n-1),i.right=e(r,n+1,l),i}function o(t){if(t.length<2)return t;const r=Math.floor(t.length/2);return function(t,r){let e=[];for(;t.length&&r.length;)t[0]<r[0]?e.push(t.shift()):e.push(r.shift());return[...e,...t,...r]}(o(t.slice(0,r)),o(t.slice(r)))}function l(t,r){if(null===t)return t;if(r<t.data)return l(t.left,r);if(r>t.data)return l(t.right,r);if(t.right||t.left){if(t.left){if(t.right){let r=t,e=t.right;for(;null!=e.left;)r=e,e=r.left;return r!==t?r.left=e.right:r.right=e.right,t.data=e.data,t}return t.left}return t.right}return null}function n(t,r){return null===t||t.data===r?t:t=t.data<r?n(t.right,r):n(t.left,r)}const i=[];function h(t){i.push(t.data)}function s(t,r="",e=!0){null!==t&&(null!==t.right&&s(t.right,`${r}${e?"│   ":"    "}`,!1),console.log(`${r}${e?"└── ":"┌── "}${t.data}`),null!==t.left&&s(t.left,`${r}${e?"    ":"│   "}`,!0))}!function(){const t=new r(function(){const t=[];for(;t.length<=15;)t.push(Math.round(100*Math.random()));return t}());function e(t){console.log(t.data)}s(t._root),console.log("Balanced: "+t.isBalanced()),console.log("Level Order:"),t.levelOrder(e),console.log("Preorder:"),t.preorder(e),console.log("Inorder:"),t.inorder(e),console.log("Postorder:"),t.postorder(e),console.log("Inserted 540"),console.log("Inserted 541"),t.insert(540),t.insert(541),s(t._root),console.log("Balanced: "+t.isBalanced()),console.log("Rebalancing"),t.rebalance(),s(t._root),console.log("Balanced: "+t.isBalanced()),console.log("Level Order:"),t.levelOrder(e),console.log("Preorder:"),t.preorder(e),console.log("Inorder:"),t.inorder(e),console.log("Postorder:"),t.postorder(e)}()})();